<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>DOM</title>
        <link rel="stylesheet" href="./task.css" />
        <link rel="icon" type="image/x-icon" href="https://raw.githubusercontent.com/Bayan2019/project02/main/images/logos4.png" />
        <!-- <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=default'></script> -->
    </head>
    <body>
        <header>
            <img src="https://raw.githubusercontent.com/Bayan2019/project02/main/images/logos3.png" alt="SAPAR" />
            <h1>Authentification</h1>
        </header>
        <main>
            <form>
                <fieldset id="login">
                    <legend>LogIn</legend>
                    <div class="input-text">
                        <label for="nick">NickName</label>
                        <input type="text" placeholder="Enter your NickName" id="nick" required />
                    </div>
                    <div class="input-text">
                        <label for="pass">PassWord</label>
                        <input type="text" placeholder="Enter your PassWord" id="pass" required />
                    </div>
                </fieldset>
                <button type="button" id="submit" click="auth()" >Sign In</button>
            </form>
            <h2></h2>
        </main>
        <script>
            const users = [{"login":"ilyas", "password": "qwerty"},
            {"login":"eldar", "password": "qqqqq"},
            {"login":"assylkhan", "password": "qweqwe"},
            {"login":"anel", "password": "asdasd"},
            {"login":"alibek", "password": "aaaaaa"}];

            const h2 = document.querySelector('h2')
            const form = document.querySelector('form')
            const submit = document.querySelector('#submit')
            const inputs = document.querySelectorAll('input')
            
            function auth() {
                for (let user of users) {
                    if ((user['login']==nick.value) && (user['password']==pass.value)) {
                        h2.className="green";
                        h2.innerText="Authenticated";
                        break;
                    }
                }
                if (h2.innerText=='') {
                    h2.className="red";
                    h2.innerText="Invalid"
                    inputs.forEach((input)=>input.style.border="1px solid red")
                    
                } else {
                    h2.className="green";
                    h2.innerText="Authenticated";
                    inputs.forEach((input)=>input.style.border="1px solid green")
                }
                
            }

            submit.addEventListener('click', auth);


        </script>
        <noscript>You need to enable JavaScript to view the full site.</noscript>
    </body>
</html>